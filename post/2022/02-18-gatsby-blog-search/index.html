<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.8.1"/><link as="script" rel="preload" href="/webpack-runtime-67d7efa4096309242a6a.js"/><link as="script" rel="preload" href="/framework-c9eaa67d651d3d5ef420.js"/><link as="script" rel="preload" href="/app-58dbc8d2320a4185bf95.js"/><link as="script" rel="preload" href="/289354ec2d4c6e4cf5ed1da52de8c270038b3892-0ff34674674502ec3993.js"/><link as="script" rel="preload" href="/component---src-pages-post-mdx-slug-tsx-4ce64b5bf5f4c1259ceb.js"/><link as="fetch" rel="preload" href="/page-data/post/2022/02-18-gatsby-blog-search/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2278949984.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3702207254.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 11pfcjj">.css-11pfcjj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><div class="css-11pfcjj ex85nb17"><title>Gatsby 블로그 제작 - 검색 기능 구현</title><style data-emotion="css-global 1n74wzw">@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500&display=swap');html{box-sizing:border-box;font-size:16px;font-weight:400;line-height:1.55;-webkit-text-size-adjust:100%;}*,:after,:before{box-sizing:inherit;}body,h1,h2,h3,h4,h5,h6,ol,ul,p,pre,blockquote{margin:0;padding:0;font-weight:inherit;}main{display:block;}ol,ul{list-style:none;}img{border-style:none;max-width:100%;height:auto;object-fit:cover;}hr{box-sizing:content-box;height:0;overflow:visible;}a{background-color:transparent;color:inherit;outline:0;}a,a:active,a:hover{-webkit-text-decoration:none;text-decoration:none;}button,input,optgroup,select,textarea{color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;margin:0;}:root{--page-width:960px;--header-height:72px;--footer-height:120px;--z-index-base:0;--z-index-overlay:1100;--z-index-modal:1200;--color-main:#0076da;--color-text:#1a1e21;--color-text-footer:#3f4950;--color-text-quote:#63727e;--color-bg:#ffffff;--color-bg-footer:#f4f5f6;--color-border:#e6e8ea;--color-overlay:rgba(0, 0, 0, 0.5);--font-weight-thin:100;--font-weight-light:300;--font-weight-regular:400;--font-weight-medium:500;--font-size-xs:12px;--font-size-sm:14px;--font-size-md:16px;--font-size-lg:18px;--font-size-xl:20px;--font-size-h4:18px;--font-size-h3:20px;--font-size-h2:28px;--font-size-h1:32px;--font-size-sub-title:28px;--font-size-title:36px;}[data-theme='dark']{--color-main:#2c93ea;--color-text:#eff3f6;--color-text-footer:#c6d3dc;--color-text-quote:#a6bac9;--color-bg:#1a1e21;--color-bg-footer:#202d3a;--color-border:#2d3a47;}@media only screen and (max-width: 767px){html{font-size:14px;}:root{--page-width:100%;--header-height:45px;--footer-height:72px;--font-size-xs:10px;--font-size-sm:12px;--font-size-md:14px;--font-size-lg:16px;--font-size-h4:16px;--font-size-h3:18px;--font-size-h2:20px;--font-size-h1:24px;--font-size-sub-title:21px;--font-size-title:24.5px;}}code[class*='language-'],pre[class*='language-']{color:#657b83;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}pre[class*='language-']::selection,pre[class*='language-'] ::selection,code[class*='language-']::selection,code[class*='language-'] ::selection{background:#073642;}pre[class*='language-']{padding:1.5em 1em;overflow:auto;border-radius:0.3em;position:relative;}:not(pre)>code[class*='language-'],pre[class*='language-']{background-color:#fdf6e3;}.gatsby-highlight pre[class*='language-']::after{background-color:var(--color-main);border-radius:0px 0px 4px 4px;color:var(--color-bg);font-size:0.75rem;font-family:SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace;letter-spacing:0.075em;line-height:1;padding:0.25rem 0.5rem;position:absolute;left:1.5rem;text-align:right;top:0;}.gatsby-highlight pre.language-javascript::after{content:"JavaScript";}.gatsby-highlight pre.language-typescript::after{content:"TypeScript";}.gatsby-highlight pre.language-jsx::after{content:"JSX";}.gatsby-highlight pre.language-tsx::after{content:"TSX";}.gatsby-highlight pre.language-shell::after{content:"Shell";background-color:var(--color-text-quote);}.gatsby-highlight pre.language-text::after{content:"Text";background-color:var(--color-text-quote);}.gatsby-highlight pre.language-css::after{content:"CSS";background-color:var(--color-text-quote);}.gatsby-highlight pre.language-html::after{content:"HTML";background-color:var(--color-text-quote);}.gatsby-highlight pre.language-markdown::after{content:"Markdown";background-color:var(--color-text-quote);}.gatsby-highlight pre.language-java::after{content:"Java";}:not(pre)>code[class*='language-']{padding:0.1em;border-radius:0.3em;}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#93a1a1;}.token.punctuation{color:#586e75;}.token.namespace{opacity:0.7;}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#268bd2;}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.url,.token.inserted{color:#2aa198;}.token.entity{color:#657b83;background:#eee8d5;}.token.atrule,.token.attr-value,.token.keyword{color:#859900;}.token.function,.token.class-name{color:#b58900;}.token.regex,.token.important,.token.variable{color:#cb4b16;}.token.important,.token.bold{font-weight:bold;}.token.italic{font-style:italic;}.token.entity{cursor:help;}pre[class*='language-'].line-numbers{position:relative;padding-left:3.5em;counter-reset:linenumber;}pre[class*='language-'].line-numbers>code{position:relative;white-space:inherit;}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;padding:1.5em 0 1.5em 1em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.line-numbers-rows>span{display:block;counter-increment:linenumber;}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:0.8em;text-align:right;}html{background-color:var(--color-bg-footer);}body{color:var(--color-text);background-color:var(--color-bg);font-weight:var(--font-weight-light);font-family:'Noto Sans KR',sans-serif;-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto;transform-style:preserve-3d;}pre[class*='language-']{background-color:var(--color-bg-footer);border:1px solid var(--color-border);}.caption{width:100%;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:-1rem;-webkit-transform:translateY(-1rem);-moz-transform:translateY(-1rem);-ms-transform:translateY(-1rem);transform:translateY(-1rem);}</style><style data-emotion="css q8kb3d">.css-q8kb3d{height:var(--header-height);border-bottom:1px solid var(--color-border);}</style><header class="css-q8kb3d ex85nb16"><style data-emotion="css fhgkvp">.css-fhgkvp{margin:0 auto;max-width:var(--page-width);height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}@media only screen and (max-width: 767px){.css-fhgkvp{padding-left:16px;padding-right:16px;}}</style><div class="css-fhgkvp ex85nb15"><style data-emotion="css ek3v2y">@media only screen and (max-width: 767px){.css-ek3v2y{-webkit-transform:scale(80%);-moz-transform:scale(80%);-ms-transform:scale(80%);transform:scale(80%);}}</style><div class="css-ek3v2y e1iojaem1"><a href="/blog"><style data-emotion="css z2dzj4">.css-z2dzj4{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;-webkit-transition:-webkit-transform 0.1s;transition:transform 0.1s;}.css-z2dzj4:hover{-webkit-transform:scale(105%);-moz-transform:scale(105%);-ms-transform:scale(105%);transform:scale(105%);}.css-z2dzj4:active{-webkit-transform:scale(110%);-moz-transform:scale(110%);-ms-transform:scale(110%);transform:scale(110%);}</style><span class="css-z2dzj4 e1iojaem0"><svg width="178" height="45" fill="none"><path d="M19.99 30.717h-1.68V20.589h-3.505v10.128h-1.68V10.653h1.68v8.352h3.504v-8.352h1.68v20.064Zm-18.577-19.8h8.976l-3.36 19.56H5.205L8.277 12.5H1.413v-1.584Zm38.53 16.2H26.19v2.544h14.112v1.584H24.51v-5.712h13.752v-2.16H24.51v-1.584h15.432v5.328Zm-16.224-7.128v-9.192h1.68v3.264h7.032v-3.264h1.68v9.192H23.719Zm19.655-3.912h-3.431v4.392h-1.68v-9.816h1.68v3.84h3.431v1.584ZM32.43 18.405v-2.76h-7.032v2.76h7.033Zm23.362 2.784c0 .32-.024.76-.072 1.32-.048.56-.112 1.152-.192 1.776a31.06 31.06 0 0 1-.288 1.824c-.096.592-.2 1.088-.312 1.488-.208.672-.488 1.208-.84 1.608-.352.4-.76.704-1.224.912a4.889 4.889 0 0 1-1.464.456c-.512.08-1.032.12-1.56.12-1.024 0-1.88-.128-2.568-.384-.672-.256-1.208-.624-1.608-1.104a3.555 3.555 0 0 1-.792-1.656c-.128-.624-.144-1.312-.048-2.064.048-.4.096-.84.144-1.32.048-.48.096-.944.144-1.392.064-.464.12-.896.168-1.296.064-.416.128-.76.192-1.032.16-.768.424-1.392.792-1.872.384-.48.824-.856 1.32-1.128a5.042 5.042 0 0 1 1.608-.552 10.494 10.494 0 0 1 1.728-.144c.848 0 1.584.112 2.208.336.624.224 1.136.536 1.536.936.416.4.712.872.888 1.416a4.52 4.52 0 0 1 .24 1.752Zm-2.28 5.112a34.395 34.395 0 0 0 .552-4.776c.032-.672-.04-1.216-.216-1.632-.16-.416-.392-.736-.696-.96-.304-.24-.656-.4-1.056-.48-.4-.08-.824-.12-1.272-.12-.32 0-.664.024-1.032.072a3.485 3.485 0 0 0-1.032.312 2.64 2.64 0 0 0-.912.744c-.272.32-.48.752-.624 1.296-.08.32-.16.712-.24 1.176-.064.448-.128.92-.192 1.416l-.144 1.416c-.048.464-.08.856-.096 1.176-.048.624.008 1.136.168 1.536.176.416.416.744.72.984.32.24.688.408 1.104.504.416.096.84.144 1.272.144.352 0 .72-.032 1.104-.096.384-.064.744-.2 1.08-.408a2.89 2.89 0 0 0 .936-.84c.272-.368.464-.856.576-1.464Zm11.472-4.68h-3.432v9.096h-1.68V10.653h1.68v9.384h3.432v1.584Zm-20.616-6v-1.584h5.496l.72-3.696h1.824l-.72 3.696h5.232v1.584H44.368Zm30.49 1.632v11.88H85.2v1.584H65.833v-1.584h7.344v-11.88h1.68Zm-7.753-6.504h16.488l-1.632 13.416h-1.776l1.44-11.832h-14.52v-1.584Zm26.09.168h11.255l-3.264 19.56h-1.8l2.976-17.976h-9.168v-1.584Zm17.687 19.8h-1.68V10.653h1.68v20.064Zm21.322-10.704h-7.296v2.16h8.88v1.584h-19.392v-1.584h8.832v-2.16h-6.936v-5.496h13.896V12.26h-13.872v-1.584h15.552V16.1h-13.896v2.328h14.232v1.584Zm-2.016 7.392h-14.136V25.82h15.816v5.4h-1.68v-3.816Zm16.26-6.216c0 .32-.024.76-.072 1.32-.048.56-.112 1.152-.192 1.776a31.06 31.06 0 0 1-.288 1.824c-.096.592-.2 1.088-.312 1.488-.208.672-.488 1.208-.84 1.608-.352.4-.76.704-1.224.912a4.889 4.889 0 0 1-1.464.456c-.512.08-1.032.12-1.56.12-1.024 0-1.88-.128-2.568-.384-.672-.256-1.208-.624-1.608-1.104a3.555 3.555 0 0 1-.792-1.656c-.128-.624-.144-1.312-.048-2.064.048-.4.096-.84.144-1.32.048-.48.096-.944.144-1.392.064-.464.12-.896.168-1.296.064-.416.128-.76.192-1.032.16-.768.424-1.392.792-1.872.384-.48.824-.856 1.32-1.128a5.042 5.042 0 0 1 1.608-.552 10.494 10.494 0 0 1 1.728-.144c.848 0 1.584.112 2.208.336.624.224 1.136.536 1.536.936.416.4.712.872.888 1.416a4.52 4.52 0 0 1 .24 1.752Zm-2.28 5.112a34.395 34.395 0 0 0 .552-4.776c.032-.672-.04-1.216-.216-1.632-.16-.416-.392-.736-.696-.96-.304-.24-.656-.4-1.056-.48-.4-.08-.824-.12-1.272-.12-.32 0-.664.024-1.032.072a3.485 3.485 0 0 0-1.032.312 2.64 2.64 0 0 0-.912.744c-.272.32-.48.752-.624 1.296-.08.32-.16.712-.24 1.176-.064.448-.128.92-.192 1.416l-.144 1.416c-.048.464-.08.856-.096 1.176-.048.624.008 1.136.168 1.536.176.416.416.744.72.984.32.24.688.408 1.104.504.416.096.84.144 1.272.144.352 0 .72-.032 1.104-.096.384-.064.744-.2 1.08-.408a2.89 2.89 0 0 0 .936-.84c.272-.368.464-.856.576-1.464Zm11.472-4.68h-3.432v9.096h-1.68V10.653h1.68v9.384h3.432v1.584Zm-20.616-6v-1.584h5.496l.72-3.696h1.824l-.72 3.696h5.232v1.584h-12.552Zm21.874-4.704h11.256l-3.264 19.56h-1.8l2.976-17.976h-9.168v-1.584Zm17.688 19.8h-1.68V10.653h1.68v20.064ZM27.936 41.86v-8.18h.7v8.18h-.7Zm2.732 0h-.75V35.6h.75v6.26Zm-.85-7.19v-.9h.95v.9h-.95Zm3.822-1.17v2.44h1.65v.66h-1.65v3.64c0 .3.083.557.25.77.166.22.44.33.82.33h.69v.63h-.58c-.38 0-.694-.05-.94-.15-.24-.1-.434-.237-.58-.41a1.484 1.484 0 0 1-.29-.63 3.69 3.69 0 0 1-.08-.8V36.6h-1.46v-.66h1.46V33.5h.71Zm4.296 0v2.44h1.65v.66h-1.65v3.64c0 .3.084.557.25.77.167.22.44.33.82.33h.69v.63h-.58c-.38 0-.693-.05-.94-.15-.24-.1-.433-.237-.58-.41a1.485 1.485 0 0 1-.29-.63 3.697 3.697 0 0 1-.08-.8V36.6h-1.46v-.66h1.46V33.5h.71Zm2.607 8.36v-8.18h.7v8.18h-.7Zm7.343-1.77c-.06.34-.174.63-.34.87-.16.24-.364.437-.61.59a2.65 2.65 0 0 1-.83.34c-.314.073-.65.11-1.01.11-.46 0-.867-.063-1.22-.19a2.38 2.38 0 0 1-.88-.55 2.259 2.259 0 0 1-.53-.86c-.12-.34-.18-.72-.18-1.14v-1.14c0-.42.063-.797.19-1.13.126-.34.31-.63.55-.87.24-.24.536-.423.89-.55.353-.133.76-.2 1.22-.2.453 0 .856.067 1.21.2.36.127.66.31.9.55.246.233.433.52.56.86.126.333.19.71.19 1.13v.81h-5.01v.23c0 .287.026.563.08.83.053.26.153.49.3.69.153.207.366.37.64.49.28.12.643.18 1.09.18.353 0 .653-.043.9-.13.253-.08.463-.183.63-.31.166-.12.293-.253.38-.4a1.26 1.26 0 0 0 .18-.41h.7Zm-4.9-1.83h4.27v-.31c0-.28-.05-.537-.15-.77-.1-.24-.244-.443-.43-.61a1.813 1.813 0 0 0-.67-.4c-.26-.093-.55-.14-.87-.14-.32 0-.614.047-.88.14a1.998 1.998 0 0 0-.68.39 1.797 1.797 0 0 0-.44.6c-.1.233-.15.49-.15.77v.33Zm9.449-4.76v2.87c.233-.293.53-.533.89-.72.36-.187.78-.28 1.26-.28.446 0 .836.067 1.17.2.34.127.623.31.85.55.226.233.393.52.5.86.113.333.17.71.17 1.13v1.14c0 .42-.054.8-.16 1.14-.1.34-.264.63-.49.87-.227.24-.517.423-.87.55-.354.133-.784.2-1.29.2-.48 0-.887-.093-1.22-.28a2.466 2.466 0 0 1-.81-.71v.03l-.12.81h-.58V33.5h.7Zm2.08 2.53a2.035 2.035 0 0 0-1.48.61c-.18.18-.324.39-.43.63a1.858 1.858 0 0 0-.17.73v1.27c0 .347.063.65.19.91.126.26.286.477.48.65.2.173.42.303.66.39.246.087.49.13.73.13.226 0 .463-.027.71-.08.246-.053.47-.153.67-.3.206-.14.373-.34.5-.6.133-.26.2-.6.2-1.02v-1.33c0-.26-.034-.51-.1-.75-.067-.24-.18-.45-.34-.63a1.612 1.612 0 0 0-.64-.44c-.26-.113-.587-.17-.98-.17Zm4.55 7.93 1.2-2.8-2.72-5.56h.81l2.28 4.69 2.03-4.69h.8l-3.62 8.36h-.78Zm7.982-2.1v-8.18h.7v8.18h-.7Zm2.733 0h-.75V35.6h.75v6.26Zm-.85-7.19v-.9h.95v.9h-.95Zm3.82-1.17v2.44h1.65v.66h-1.65v3.64c0 .3.084.557.25.77.168.22.44.33.82.33h.69v.63h-.58c-.38 0-.692-.05-.94-.15-.24-.1-.432-.237-.58-.41a1.484 1.484 0 0 1-.29-.63 3.697 3.697 0 0 1-.08-.8V36.6h-1.46v-.66h1.46V33.5h.71Zm4.298 0v2.44h1.65v.66h-1.65v3.64c0 .3.083.557.25.77.166.22.44.33.82.33h.69v.63h-.58c-.38 0-.694-.05-.94-.15-.24-.1-.434-.237-.58-.41a1.484 1.484 0 0 1-.29-.63 3.69 3.69 0 0 1-.08-.8V36.6h-1.46v-.66h1.46V33.5h.71Zm2.607 8.36v-8.18h.7v8.18h-.7Zm7.342-1.77c-.06.34-.173.63-.34.87-.16.24-.363.437-.61.59a2.65 2.65 0 0 1-.83.34c-.313.073-.65.11-1.01.11-.46 0-.867-.063-1.22-.19a2.38 2.38 0 0 1-.88-.55 2.258 2.258 0 0 1-.53-.86c-.12-.34-.18-.72-.18-1.14v-1.14c0-.42.063-.797.19-1.13.127-.34.31-.63.55-.87.24-.24.537-.423.89-.55.353-.133.76-.2 1.22-.2.453 0 .857.067 1.21.2.36.127.66.31.9.55.247.233.433.52.56.86.127.333.19.71.19 1.13v.81h-5.01v.23c0 .287.027.563.08.83.053.26.153.49.3.69.153.207.367.37.64.49.28.12.643.18 1.09.18.353 0 .653-.043.9-.13.253-.08.463-.183.63-.31a1.34 1.34 0 0 0 .38-.4c.093-.147.153-.283.18-.41h.7Zm-4.9-1.83h4.27v-.31c0-.28-.05-.537-.15-.77-.1-.24-.243-.443-.43-.61a1.814 1.814 0 0 0-.67-.4c-.26-.093-.55-.14-.87-.14-.32 0-.613.047-.88.14a1.996 1.996 0 0 0-.68.39 1.794 1.794 0 0 0-.44.6c-.1.233-.15.49-.15.77v.33Zm9.45-4.76v2.87c.232-.293.53-.533.89-.72.36-.187.78-.28 1.26-.28.446 0 .836.067 1.17.2.34.127.622.31.85.55.226.233.392.52.5.86.112.333.17.71.17 1.13v1.14c0 .42-.054.8-.16 1.14-.1.34-.264.63-.49.87a2.19 2.19 0 0 1-.87.55c-.354.133-.784.2-1.29.2-.48 0-.888-.093-1.22-.28a2.464 2.464 0 0 1-.81-.71v.03l-.12.81h-.58V33.5h.7Zm2.08 2.53a2.034 2.034 0 0 0-1.48.61c-.18.18-.324.39-.43.63a1.855 1.855 0 0 0-.17.73v1.27c0 .347.062.65.19.91.126.26.286.477.48.65.2.173.42.303.66.39.246.087.49.13.73.13.226 0 .462-.027.71-.08.246-.053.47-.153.67-.3.206-.14.372-.34.5-.6.132-.26.2-.6.2-1.02v-1.33c0-.26-.034-.51-.1-.75-.068-.24-.18-.45-.34-.63a1.613 1.613 0 0 0-.64-.44c-.26-.113-.588-.17-.98-.17Zm8.641 5.01c-.113.16-.257.3-.43.42-.167.12-.357.22-.57.3-.207.087-.427.15-.66.19-.227.04-.453.06-.68.06-.36 0-.693-.057-1-.17a2.332 2.332 0 0 1-.8-.49 2.286 2.286 0 0 1-.52-.78 2.836 2.836 0 0 1-.18-1.04V35.6h.7v3.85c0 .24.03.473.09.7.067.227.17.427.31.6.147.18.34.323.58.43.24.113.537.17.89.17.44 0 .803-.07 1.09-.21.293-.14.527-.317.7-.53.18-.213.303-.447.37-.7.073-.26.11-.507.11-.74V35.6h.7v6.26h-.66l-.04-.82Zm3.666-7.54v2.44h1.65v.66h-1.65v3.64c0 .3.084.557.25.77.167.22.44.33.82.33h.69v.63h-.58c-.38 0-.693-.05-.94-.15a1.5 1.5 0 0 1-.58-.41 1.492 1.492 0 0 1-.29-.63 3.716 3.716 0 0 1-.08-.8V36.6h-1.46v-.66h1.46V33.5h.71Zm5.763 6.27c.006.273.06.51.16.71.106.193.25.353.43.48s.39.22.63.28c.246.067.516.1.81.1.606 0 1.076-.087 1.41-.26.34-.167.506-.457.5-.87a.928.928 0 0 0-.16-.52 1.095 1.095 0 0 0-.4-.35 2.998 2.998 0 0 0-.63-.24 9.594 9.594 0 0 0-.82-.18c-.24-.04-.504-.093-.79-.16a3.302 3.302 0 0 1-.78-.29 1.987 1.987 0 0 1-.61-.52c-.16-.213-.24-.487-.24-.82 0-.253.06-.487.18-.7.126-.213.293-.397.5-.55.213-.16.463-.283.75-.37.286-.093.596-.14.93-.14.766 0 1.383.173 1.85.52.473.34.733.877.78 1.61h-.7c-.027-.2-.077-.39-.15-.57a1.194 1.194 0 0 0-.32-.47 1.413 1.413 0 0 0-.56-.31 2.717 2.717 0 0 0-.87-.12c-.294 0-.547.033-.76.1-.214.06-.39.14-.53.24a.98.98 0 0 0-.3.35.843.843 0 0 0-.1.4c0 .16.04.3.12.42.086.113.196.213.33.3.133.08.28.15.44.21.166.06.33.11.49.15.16.04.31.073.45.1.14.02.253.04.34.06.313.067.606.147.88.24.273.087.513.2.72.34a1.394 1.394 0 0 1 .66 1.23c0 .34-.067.627-.2.86a1.53 1.53 0 0 1-.54.57c-.227.147-.5.25-.82.31-.314.067-.664.1-1.05.1-.36 0-.704-.04-1.03-.12-.32-.08-.607-.21-.86-.39a2.038 2.038 0 0 1-.6-.7c-.147-.28-.227-.623-.24-1.03h.7Zm7.275-6.27v2.44h1.65v.66h-1.65v3.64c0 .3.083.557.25.77.166.22.44.33.82.33h.69v.63h-.58c-.38 0-.694-.05-.94-.15-.24-.1-.434-.237-.58-.41a1.48 1.48 0 0 1-.29-.63 3.654 3.654 0 0 1-.08-.8V36.6h-1.46v-.66h1.46V33.5h.71Zm7.752 6.59c-.06.34-.174.63-.34.87-.16.24-.364.437-.61.59-.24.153-.517.267-.83.34a4.43 4.43 0 0 1-1.01.11c-.46 0-.867-.063-1.22-.19a2.377 2.377 0 0 1-.88-.55 2.25 2.25 0 0 1-.53-.86c-.12-.34-.18-.72-.18-1.14v-1.14c0-.42.063-.797.19-1.13.126-.34.31-.63.55-.87.24-.24.536-.423.89-.55.353-.133.76-.2 1.22-.2.453 0 .856.067 1.21.2.36.127.66.31.9.55.246.233.433.52.56.86.126.333.19.71.19 1.13v.81h-5.01v.23c0 .287.026.563.08.83.053.26.153.49.3.69.153.207.366.37.64.49.28.12.643.18 1.09.18.353 0 .653-.043.9-.13.253-.08.463-.183.63-.31.166-.12.293-.253.38-.4.093-.147.153-.283.18-.41h.7Zm-4.9-1.83h4.27v-.31c0-.28-.05-.537-.15-.77a1.67 1.67 0 0 0-.43-.61 1.82 1.82 0 0 0-.67-.4c-.26-.093-.55-.14-.87-.14-.32 0-.614.047-.88.14a1.988 1.988 0 0 0-.68.39 1.782 1.782 0 0 0-.44.6c-.1.233-.15.49-.15.77v.33Zm5.813 1.82c0-.647.207-1.12.62-1.42.414-.307 1.054-.46 1.92-.46h2.21v-.58c0-.113-.02-.26-.06-.44a1.267 1.267 0 0 0-.26-.52 1.482 1.482 0 0 0-.55-.44c-.24-.127-.563-.19-.97-.19-.333 0-.61.037-.83.11-.22.073-.4.17-.54.29-.14.12-.25.26-.33.42a3.02 3.02 0 0 0-.18.48h-.75c.087-.62.357-1.107.81-1.46.454-.353 1.064-.52 1.83-.5.854.02 1.487.227 1.9.62.42.387.63.983.63 1.79v4.08h-.62l-.06-.75c-.32.32-.703.55-1.15.69-.446.14-.953.21-1.52.21-.306 0-.59-.037-.85-.11a1.75 1.75 0 0 1-.66-.35 1.573 1.573 0 0 1-.44-.6c-.1-.24-.15-.53-.15-.87Zm2.24 1.27c.394 0 .744-.05 1.05-.15.314-.093.577-.223.79-.39.22-.167.387-.36.5-.58a1.5 1.5 0 0 0 .17-.7v-.67h-2.33c-.333 0-.61.037-.83.11-.22.067-.396.157-.53.27a.933.933 0 0 0-.28.39c-.053.14-.08.287-.08.44 0 .14.017.283.05.43.04.153.114.293.22.42.114.127.27.23.47.31.2.08.467.12.8.12Zm9.804-7.85v8.36h-.58l-.12-.81v-.09c-.22.3-.506.55-.86.75-.353.2-.776.3-1.27.3-.48 0-.893-.067-1.24-.2-.34-.127-.62-.31-.84-.55-.22-.24-.383-.53-.49-.87-.1-.34-.15-.72-.15-1.14v-1.14c0-.42.057-.797.17-1.13.12-.34.294-.627.52-.86.234-.24.52-.423.86-.55.34-.133.737-.2 1.19-.2.5 0 .924.087 1.27.26.347.173.627.397.84.67v-2.8h.7Zm-.7 4.58c0-.26-.043-.513-.13-.76a1.821 1.821 0 0 0-.39-.65 2.03 2.03 0 0 0-1.52-.64c-.393 0-.726.057-1 .17a1.708 1.708 0 0 0-.65.44c-.166.18-.286.39-.36.63-.066.24-.1.49-.1.75v1.33c0 .42.06.76.18 1.02s.277.46.47.6c.194.147.407.247.64.3.234.053.467.08.7.08a2.277 2.277 0 0 0 1.43-.52c.214-.173.387-.39.52-.65.14-.26.21-.563.21-.91v-1.19Zm2.732 3.78h-.75V35.6h.75v6.26Zm-.85-7.19v-.9h.95v.9h-.95Zm2.131 7.19v-8.18h.7v8.18h-.7Zm3.063 2.1 1.2-2.8-2.72-5.56h.81l2.28 4.69 2.03-4.69h.8l-3.62 8.36h-.78Z" fill="#1A1E21"></path></svg></span></a></div><style data-emotion="css lkqrnz">.css-lkqrnz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-column-gap:24px;column-gap:24px;}</style><nav class="css-lkqrnz ex85nb14"><a href="/blog"><style data-emotion="css 1nc8p0v">.css-1nc8p0v{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;background:none;border:none;padding-top:2px;cursor:pointer;-webkit-transition:text-shadow 0.2s;transition:text-shadow 0.2s;}.css-1nc8p0v:disabled{cursor:default;}.css-1nc8p0v:hover:not(:disabled){text-shadow:0 0 0.5px var(--color-text);}</style><button class="css-1nc8p0v ej4enpc1">posts<style data-emotion="css 13irkam">.css-13irkam{margin:1px auto 0 auto;width:0;height:1px;background-color:var(--color-text);-webkit-transition:width 0.2s;transition:width 0.2s;}.ej4enpc1:hover:not(:disabled)>.css-13irkam{width:100%;}</style><div class="css-13irkam ej4enpc0"></div></button></a><a href="/tag"><button class="css-1nc8p0v ej4enpc1">tags<div class="css-13irkam ej4enpc0"></div></button></a><button class="css-1nc8p0v ej4enpc1">search<div class="css-13irkam ej4enpc0"></div></button></nav></div></header><style data-emotion="css 1ff36h2">.css-1ff36h2{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;}</style><main class="css-1ff36h2 ex85nb13"><style data-emotion="css owiavo">.css-owiavo{position:relative;margin:0 auto;padding:48px 0 96px 0;max-width:var(--page-width);height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;row-gap:36px;}@media only screen and (max-width: 767px){.css-owiavo{padding:16px 16px 36px 16px;row-gap:24px;}}</style><div class="css-owiavo ex85nb12"><style data-emotion="css 1ywe81w animation-1vzvs4z">.css-1ywe81w{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;row-gap:36px;-webkit-animation:animation-1vzvs4z 0.5s ease;animation:animation-1vzvs4z 0.5s ease;}@-webkit-keyframes animation-1vzvs4z{from{opacity:0;-webkit-transform:translateY(10px);-moz-transform:translateY(10px);-ms-transform:translateY(10px);transform:translateY(10px);}to{opacity:1;-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}}@keyframes animation-1vzvs4z{from{opacity:0;-webkit-transform:translateY(10px);-moz-transform:translateY(10px);-ms-transform:translateY(10px);transform:translateY(10px);}to{opacity:1;-webkit-transform:translateY(0);-moz-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}}</style><article class="css-1ywe81w ejzcnoo2"><style data-emotion="css muc85u">.css-muc85u{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;row-gap:16px;}</style><header class="css-muc85u ejzcnoo1"><a href="/blog"><button class="css-1nc8p0v ej4enpc1">&lt; 이전 페이지로<div class="css-13irkam ej4enpc0"></div></button></a><hgroup><style data-emotion="css 4qfs0">.css-4qfs0{font-weight:var(--font-weight-light);font-size:var(--font-size-title);}</style><h1 class="css-4qfs0 e1sw3jtw2">Gatsby 블로그 제작 - 검색 기능 구현</h1><style data-emotion="css harc7a">.css-harc7a{font-weight:var(--font-weight-thin);font-size:var(--font-size-md);}</style><p class="css-harc7a e1sw3jtw0">작성일: 2022-02-18</p></hgroup><style data-emotion="css 1yupmj4">.css-1yupmj4{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-column-gap:8px;column-gap:8px;}</style><span class="css-1yupmj4 e1bzxavb0"><a href="/tag/gatsby"><style data-emotion="css nlsog3">.css-nlsog3{padding:3px 8px 4px 8px;border:none;border-radius:4px;font-size:var(--font-size-xs);font-weight:var(--font-weight-regular);color:var(--color-main);background-color:var(--color-border);cursor:pointer;-webkit-transition:color 0.2s,background-color 0.2s;transition:color 0.2s,background-color 0.2s;}.css-nlsog3:hover{color:var(--color-bg);background-color:var(--color-main);}</style><span class="css-nlsog3 e1bzxavb1">Gatsby</span></a><a href="/tag/graph-ql"><span class="css-nlsog3 e1bzxavb1">GraphQL</span></a></span></header><style data-emotion="css 2in4ak">.css-2in4ak{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;row-gap:var(--font-size-md);}</style><div class="css-2in4ak ejzcnoo0"><style data-emotion="css fdtbo8">.css-fdtbo8{width:100%;border-bottom:1px solid var(--color-border);}</style><hgroup class="css-fdtbo8 e1g4hu6w13"><style data-emotion="css 1ah6edn">.css-1ah6edn{font-weight:var(--font-weight-regular);font-size:var(--font-size-h2);}</style><h2 class="css-1ah6edn e1g4hu6w11">개요</h2></hgroup><div><p>블로그를 단지 글을 쓰는 용도가 아니라, 이전에 정리해둔 정보를 다시 찾아보는 용도로 쓴다면 검색 기능은 필수적이다. 이 글이 올라갈 때는 블로그에 멀쩡히 검색 기능이 붙어 있겠지만 사실 이건 며칠간의 삽질의 결과물이다.</p></div><style data-emotion="css 1ncc39t">.css-1ncc39t{font-weight:var(--font-weight-regular);font-size:var(--font-size-h4);}</style><h4 class="css-1ncc39t e1g4hu6w9">핵심 개념</h4><div><p>검색에는 세 가지 요소가 필요하다.</p></div><style data-emotion="css 1magvvh">.css-1magvvh{padding-left:2rem;list-style:revert;}div>div>.css-1magvvh{margin-top:var(--font-size-sm);}</style><ul class="css-1magvvh e1g4hu6w8"><style data-emotion="css 1o5bol2">.css-1o5bol2:not(:first-of-type){margin-top:var(--font-size-sm);}</style><li class="css-1o5bol2 e1g4hu6w6"><style data-emotion="css 139iib9">.css-139iib9{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;row-gap:var(--font-size-sm);}</style><div class="css-139iib9 e1g4hu6w5"><div>속도와 성능을 위해 데이터를 검색에 알맞은 형태로 바꿔놓은 <style data-emotion="css 13ixm15">.css-13ixm15{font-weight:var(--font-weight-medium);}</style><strong class="css-13ixm15 e1g4hu6w4">인덱스(index)</strong></div></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div>인덱스와 검색어를 이용해 검색을 수행하고 매칭된 결과를 리턴하는 <strong class="css-13ixm15 e1g4hu6w4">검색 엔진(search engine)</strong></div></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div>사용자로 하여금 검색 기능을 사용할 수 있게 해주는 <strong class="css-13ixm15 e1g4hu6w4">검색 UI(search UI)</strong></div></div></li></ul><div><p>일반적으로 검색 엔진 라이브러리라고 하면 raw data로부터 인덱스를 생성하고, 인덱스와 검색어를 통해 검색을 수행하는 것까지를 전부 담당한다.</p></div><p><style data-emotion="css dnz6zw">.css-dnz6zw{color:var(--color-main);-webkit-text-decoration:underline;text-decoration:underline;}.css-dnz6zw:visited{color:purple;}</style><a href="https://www.gatsbyjs.com/docs/how-to/adding-common-features/adding-search/" class="css-dnz6zw e1g4hu6w3">공식 문서</a>에 따르면, Gatsby 사이트에 검색 기능을 추가하는 방법으로는 <style data-emotion="css zjezr">.css-zjezr{font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;background-color:var(--color-bg-footer);border:1px solid var(--color-border);border-radius:4px;padding:0 0.25em;margin:0 2px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;color:var(--color-main);}</style><code class="css-zjezr e1g4hu6w1">js-search</code> 라이브러리나 <code class="css-zjezr e1g4hu6w1">gatsby-plugin-local-search</code>과 같은 플러그인을 이용해 client-side 검색을 추가하는 방법이 있고, 혹은 Algolia나 ElasticSearch와 같은 API 기반의 외부 검색 엔진을 사용하는 방법이 있다.</p><div><p>전자의 경우 모든 검색 처리를 브라우저에서 수행하므로 사이트 규모가 커질수록 방문자가 다운로드해야 할 인덱스의 크기가 커지는 단점이 있다. 반면 검색 엔진 API의 경우 이러한 단점을 해소할 수 있지만 일반적으로 무료 플랜은 호스팅이나 월별 요청 수에 제한이 있고, 온전한 기능을 사용하려면 유료 플랜을 사용해야 한다.</p></div><hgroup class="css-fdtbo8 e1g4hu6w13"><h2 class="css-1ah6edn e1g4hu6w11">진행과정</h2></hgroup><p>자료의 수가 적은 나로서는 검색 엔진 API의 이점이 적어 client-side 검색을 택했다. 그래서 <code class="css-zjezr e1g4hu6w1">gatsby-plugin-local-search</code> 플러그인을 사용하고, <code class="css-zjezr e1g4hu6w1">react-use-flexsearch</code> 라이브러리를 이용해 검색결과를 표시하려 했다.</p><div><p>결론부터 말하자면 플러그인이나 라이브러리를 통한 검색 기능 구현은 잘 되지 않았다. 결국 다소 비효율적인 방법으로나마 직접 client-side 검색 기능을 구현하게 되었다. 아래는 그동안 겪은 이슈를 나열한 것이다.</p></div><h4 class="css-1ncc39t e1g4hu6w9"><code class="css-zjezr e1g4hu6w1">gatsby-plugin-local-search</code> 플러그인 이슈</h4><style data-emotion="css 15f5hom">.css-15f5hom{color:var(--color-text-quote);padding:1rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;row-gap:14px;border:1px dashed var(--color-border);border-left:0.25rem solid var(--color-border);}</style><blockquote class="css-15f5hom e1g4hu6w2"><ul class="css-1magvvh e1g4hu6w8"><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div><code class="css-zjezr e1g4hu6w1">gatsby-plugin-local-search</code>란 그 이름대로 local search, 즉 client-side 검색 기능을 위한 플러그인이다.</div></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div><code class="css-zjezr e1g4hu6w1">gatsby-config.js</code>를 통해 검색에 사용할 쿼리, 필드, 검색 결과로 받을 값 등을 설정할 수 있고, 검색 엔진으로는 FlexSearch와 Lunr 중 하나를 선택해서 사용할 수 있다. 공식 문서에서는 성능이 뛰어난 FlexSearch를 추천하고 있다.</div></div></li></ul></blockquote><ul class="css-1magvvh e1g4hu6w8"><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div>이슈라고 하기엔 뭣하지만 FlexSearch의 최신버전은 0.7.21인데 반해 이 플러그인에선 0.6.32버전을 쓴다. 0.6 -&gt; 0.7로 넘어가면서 바뀐 부분이 제법 많으므로 공식문서를 참고할 때 버전을 잘 확인해야 한다.</div></div></li></ul><h4 class="css-1ncc39t e1g4hu6w9"><code class="css-zjezr e1g4hu6w1">react-use-flexsearch</code> 라이브러리 이슈</h4><blockquote class="css-15f5hom e1g4hu6w2"><ul class="css-1magvvh e1g4hu6w8"><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div><code class="css-zjezr e1g4hu6w1">react-use-flexsearch</code>란 FlexSearch로 생성한 인덱스와 스토어를 사용해 검색을 수행할 수 있는 hook을 제공하는 라이브러리다.</div></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div>FlexSearch는 구버전인 0.6.22를 사용한다. 오랫동안 업데이트되지 않은 라이브러리라 비슷한 기능이라면 직접 구현하는 편이 낫지 않을까 싶다.</div></div></li></ul></blockquote><ul class="css-1magvvh e1g4hu6w8"><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div><p>타입 정의가 되어 있지 않다. TypeScript에서 사용하려면 별도의 타입 정의 파일을 추가해줘야 한다.</p></div></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div><p>인덱스 생성 시 옵션값을 넘길 방법이 없다. FlexSearch는 인덱스 객체를 생성할 때 옵션을 통해 인코더나 토큰화 함수를 설정할 수 있고, 특히 인코더는 인덱스 추가 뿐만 아니라 검색어에도 적용된다. 하지만 옵션을 받지 않으므로 인덱스 객체는 Built-in 함수를 사용하게 되고, 결국 후술할 문제로 인해 이 라이브러리를 사용하면 원천적으로 한글 검색이 되지 않는다.</p></div><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:518px">
      <a class="gatsby-resp-image-link css-dnz6zw e1g4hu6w3" href="/static/169e4aff38b308b61f63a23da8eaf06f/5e505/react-use-flexsearch-1.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:11.481481481481483%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAbklEQVQI1w3LSxLCIAwA0B7EECiICUkoZdqizvjZ9P5X0rd/U87ZVJlZVVSNuFitLMqSbGkiVsxIGGd/QXTOhYAxBkQEgMmjJyIAcACxrNTG+j5tvOr9254frUbNrsd+e4y8b23rx+i9Lymlf/4BifoTm5nkYD0AAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/169e4aff38b308b61f63a23da8eaf06f/1ee96/react-use-flexsearch-1.webp 270w,/static/169e4aff38b308b61f63a23da8eaf06f/a2ded/react-use-flexsearch-1.webp 518w" sizes="(max-width: 518px) 100vw, 518px" type="image/webp"/>
          <source srcSet="/static/169e4aff38b308b61f63a23da8eaf06f/77615/react-use-flexsearch-1.png 270w,/static/169e4aff38b308b61f63a23da8eaf06f/5e505/react-use-flexsearch-1.png 518w" sizes="(max-width: 518px) 100vw, 518px" type="image/png"/>
          <style data-emotion="css 1ou3qqd">.css-1ou3qqd{margin:0 auto;display:block;}</style><img class="gatsby-resp-image-image css-1ou3qqd e1g4hu6w0" src="/static/169e4aff38b308b61f63a23da8eaf06f/5e505/react-use-flexsearch-1.png" alt="react-use-flexsearch-1" title="react-use-flexsearch-1" loading="lazy" decoding="async" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
  </a>
    </span></p></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><p><code class="css-zjezr e1g4hu6w1">Index.search(query, searchOptions)</code>라는, 존재하지 않는 사용법으로 메서드를  사용하고 있다. 공식문서에 명시된 사용법은 <code class="css-zjezr e1g4hu6w1">Index.search(string, &lt;limit&gt;, &lt;callback&gt;)</code>와 <code class="css-zjezr e1g4hu6w1">Index.search(&lt;options&gt;)</code> 뿐이다.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:610px">
      <a class="gatsby-resp-image-link css-dnz6zw e1g4hu6w3" href="/static/ee233b72d6376dd50a52164030a3a995/e8acd/react-use-flexsearch-2.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:9.62962962962963%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAZUlEQVQI1wXBiQHDIAgAwOzRGkF8G0Gh9Nt/sd4dIsI81UzWlm3LfEpVXeZvtWdrJSVAymeECIhUMBegDIghhIOIwv12QoI8KuuwT+MXUq6snVXksdZk/13b67j69unfLjYmQ4x/ovETZCu2bMgAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/ee233b72d6376dd50a52164030a3a995/1ee96/react-use-flexsearch-2.webp 270w,/static/ee233b72d6376dd50a52164030a3a995/be7f3/react-use-flexsearch-2.webp 540w,/static/ee233b72d6376dd50a52164030a3a995/5bd53/react-use-flexsearch-2.webp 610w" sizes="(max-width: 610px) 100vw, 610px" type="image/webp"/>
          <source srcSet="/static/ee233b72d6376dd50a52164030a3a995/77615/react-use-flexsearch-2.png 270w,/static/ee233b72d6376dd50a52164030a3a995/2d29d/react-use-flexsearch-2.png 540w,/static/ee233b72d6376dd50a52164030a3a995/e8acd/react-use-flexsearch-2.png 610w" sizes="(max-width: 610px) 100vw, 610px" type="image/png"/>
          <img class="gatsby-resp-image-image css-1ou3qqd e1g4hu6w0" src="/static/ee233b72d6376dd50a52164030a3a995/e8acd/react-use-flexsearch-2.png" alt="react-use-flexsearch-2" title="react-use-flexsearch-2" loading="lazy" decoding="async" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
  </a>
    </span></p></div></li></ul><h4 class="css-1ncc39t e1g4hu6w9">FlexSearch 라이브러리 이슈</h4><blockquote class="css-15f5hom e1g4hu6w2"><ul class="css-1magvvh e1g4hu6w8"><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div>FlexSearch란 텍스트 검색 라이브러리다.</div></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div>처음에 인덱스를 생성하고, &lt;키, 텍스트&gt; 쌍으로 검색 대상이 될 데이터를 넣고, 인덱스에 추가한 데이터에 대해 검색을 수행할 수 있다. 인덱스 생성 시에 문자열 인코딩이나 토큰화 함수를 포함한 다양한 옵션을 줄 수 있다.</div></div></li></ul></blockquote><ul class="css-1magvvh e1g4hu6w8"><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><p>Index Option의 <code class="css-zjezr e1g4hu6w1">encode</code>는 공식문서의 설명과 달리 <code class="css-zjezr e1g4hu6w1">string</code> 타입의 인코더 명(<code class="css-zjezr e1g4hu6w1">&quot;simple&quot;</code>, <code class="css-zjezr e1g4hu6w1">&quot;balance&quot;</code> 등)을 받으면 오류가 난다.</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// flexsearch/src/index.js를 보면 이런 식으로 this.encode를 초기화하고</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>encode <span class="token operator">=</span> options<span class="token punctuation">[</span><span class="token string">&quot;encode&quot;</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>charset <span class="token operator">&amp;&amp;</span> charset<span class="token punctuation">.</span>encode<span class="token punctuation">)</span> <span class="token operator">||</span> default_encoder<span class="token punctuation">;</span>

<span class="token comment">// (문자열이면 built-in 함수로 교체하는 일 없이) 바로 이런 식으로 사용한다</span>
content <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><p>따라서 특정한 build-in 인코더를 사용하고 싶다면 옵션 중 <code class="css-zjezr e1g4hu6w1">charset</code>을 <code class="css-zjezr e1g4hu6w1">&quot;latin:(인코더명)&quot;</code>과 같은 형태로 지정해야 한다.</p></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><p><code class="css-zjezr e1g4hu6w1">encode</code> 옵션을 주지 않았을 경우 built-in 인코더를 사용하는데, 알파벳과 숫자를 제외한 모든 문자를 제거하는 과정이 인코딩 과정에 포함되어 있다. 이 때문에 별도의 함수를 <code class="css-zjezr e1g4hu6w1">encode</code> 옵션에 넣어주지 않으면 한글은 인덱스에 추가되지도 않고 검색도 되지 않는다.</p></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div><p>공식문서에서 소개하는 중국어, 일본어, 한국어용 인코딩 설정은 다음과 같다.</p></div><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:629px">
      <a class="gatsby-resp-image-link css-dnz6zw e1g4hu6w3" href="/static/d68c0819b4ec5a8f8b80c85449e2a126/6c786/flexsearch.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:34.074074074074076%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA3UlEQVQY03XQ226EIBAGYN//DT1tirLaquvCHEAGTBtIbXvR/RJmyMCfECrKuKxSmUXEZ8673I7j+Hyh0nq83d76rmvqehxU13VKqbZt66YZlOr7Xmv9MoxEzjssrAVkhwBEyEwAaPMIU0r/h8V7RgCwwbPQU8gEfyB4x3yeKcWYYhSREEIo5fijOogeH/uolm1dt1lv07i975My9/syTIue13nZnxasQfPAfTfM7C+VsRaRmDwiEbu8JWZyAJQzgAbKCTHh94+6SyUiMUp+X3H1mFI6068yiennXvEFz8qRjL5K1KIAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/d68c0819b4ec5a8f8b80c85449e2a126/1ee96/flexsearch.webp 270w,/static/d68c0819b4ec5a8f8b80c85449e2a126/be7f3/flexsearch.webp 540w,/static/d68c0819b4ec5a8f8b80c85449e2a126/ebbc9/flexsearch.webp 629w" sizes="(max-width: 629px) 100vw, 629px" type="image/webp"/>
          <source srcSet="/static/d68c0819b4ec5a8f8b80c85449e2a126/77615/flexsearch.png 270w,/static/d68c0819b4ec5a8f8b80c85449e2a126/2d29d/flexsearch.png 540w,/static/d68c0819b4ec5a8f8b80c85449e2a126/6c786/flexsearch.png 629w" sizes="(max-width: 629px) 100vw, 629px" type="image/png"/>
          <img class="gatsby-resp-image-image css-1ou3qqd e1g4hu6w0" src="/static/d68c0819b4ec5a8f8b80c85449e2a126/6c786/flexsearch.png" alt="flexsearch" title="flexsearch" loading="lazy" decoding="async" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
  </a>
    </span></p><div><p>하지만 이는 어디까지나 예시일 뿐이고 실제로 이 설정을 넣으면 검색이 제대로 되지 않는다.</p></div><ul class="css-1magvvh e1g4hu6w8"><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div><code class="css-zjezr e1g4hu6w1">.replace(/[\x00-\x7F]/g, &#x27;&#x27;)</code>: ASCII 문자를 제거 -&gt; 영어나 숫자 검색이 불가능해진다.</div></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div><code class="css-zjezr e1g4hu6w1">.split(&#x27;&#x27;)</code>: 한 글자씩 쪼갬 -&gt; 검색 정확도가 크게 떨어진다. <code class="css-zjezr e1g4hu6w1">encode</code> 함수는 검색어에도 적용이 되기 때문에 한 글자씩 쪼갠 인덱스를 한 글자씩 쪼갠 검색어로 검색을 하게 된다. 예를 들어 &quot;<strong class="css-13ixm15 e1g4hu6w4">포트</strong>&quot;라고 검색을 하면 &quot;<strong class="css-13ixm15 e1g4hu6w4">포트</strong>&quot;, &quot;<strong class="css-13ixm15 e1g4hu6w4">포</strong>스<strong class="css-13ixm15 e1g4hu6w4">트</strong>&quot;, &quot;<strong class="css-13ixm15 e1g4hu6w4">포</strong>인<strong class="css-13ixm15 e1g4hu6w4">트</strong>&quot; 등이 전부 검색된다.</div></div></li></ul><div><p>따라서 적절한 한국어 검색을 위해선 별도의 인코더, 토큰화 함수를 마련해야 한다.</p></div></div></li></ul><p>결론적으로 FlexSearch를 사용하기 위해서는 한국어용 <code class="css-zjezr e1g4hu6w1">encode</code>, <code class="css-zjezr e1g4hu6w1">tokenize</code> 옵션이 필수적인데, 아무래도 직접 구현할 만한 게 아니라서 FlexSearch 사용은 포기해야 했다. 영어와 한국어라는 언어의 차이 때문에 발생한 문제인 만큼 대부분의 검색 라이브러리는 동일한 문제를 안고 있을 거라 생각했고, 실제로 <code class="css-zjezr e1g4hu6w1">gatsby-plugin-local-search</code>에서 지원하는 다른 검색엔진 라이브러리인 Lunr도 마찬가지였다.</p><h4 class="css-1ncc39t e1g4hu6w9">검색 기능 직접 구현하기</h4><div><p>결국 raw data로부터 직접 검색하는 기능을 구현하기로 했다. 구상한 검색 과정은 다음과 같다.</p></div><style data-emotion="css zd747l">.css-zd747l{padding-left:2rem;list-style:auto;}div>div>.css-zd747l{margin-top:var(--font-size-sm);}</style><ol class="css-zd747l e1g4hu6w7"><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div>검색어와 포스트를 인코딩한다. (현재는 <code class="css-zjezr e1g4hu6w1">toLowerCase</code>만)</div></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div>모든 포스트에 대해 검색어로 <code class="css-zjezr e1g4hu6w1">String.match()</code>를 수행하고, 매치된 수가 1 이상인 포스트만 결과 리스트(<code class="css-zjezr e1g4hu6w1">newResults</code>)에 저장한다.</div></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div>매치된 갯수를 정확도의 척도로 삼고, 결과 리스트를 정확도의 내림차순으로 정렬하여 사용한다.</div></div></li></ol><div><p>포스트의 갯수를 n, 포스트 당 평균 글자수를 m이라 하면 한 번 검색할 때마다 O(n * m)의 시간복잡도를 갖는 셈이다. 성능을 조금이라도 개선하기 위해 다음과 같은 최적화 방법을 생각했다.</p></div><ul class="css-1magvvh e1g4hu6w8"><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div>검색어는 기본적으로 길이가 2 이상인 것만 사용한다. 한 글자로는 의미가 잘 전달되지 않고 원하는 결과를 찾기도 힘들기 때문이다.</div></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div>검색어에 대한 결과값은 세션 스토리지에 캐싱하여 사용한다. 로컬 스토리지가 아니라 세션 스토리지인 이유는, 새로운 포스트가 올라오면 기존의 검색 결과는 의미가 없어지기 때문에 브라우저가 오랫동안 검색 결과를 갖고 있을 필요가 없다고 생각했기 때문이다.</div></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div>검색 기능을 change 이벤트 핸들러로 사용할 때, 입력 중 검색 기능이 작동하는 것을 방지하기 위해 debounce를 적용한다. throttle이 아닌 이유는 검색은 연속된 이벤트의 도중보다는 연속된 이벤트의 끝이 더 의미가 있기 때문이다.</div></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div>검색은 비동기적으로 수행하도록 한다.</div></div></li></ul><div><p>그래서 완성된 코드는 다음과 같다.</p></div><ul class="css-1magvvh e1g4hu6w8"><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><p><code class="css-zjezr e1g4hu6w1">src/hooks/useSearch.ts</code></p><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span>useEffect<span class="token punctuation">,</span> useState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">&#x27;lodash&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
  escapedRegExp<span class="token punctuation">,</span>
  getProperty<span class="token punctuation">,</span>
  getStorageItem<span class="token punctuation">,</span>
  setStorageItem<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;src/utils/common&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">Options</span> <span class="token punctuation">{</span>
  searchFrom<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  refBy<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  limit<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  cacheKey<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  debounceWait<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  minKeywordLength<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> useSearch <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span></span><span class="token operator">&gt;</span><span class="token punctuation">(</span>
  dataList<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    searchFrom<span class="token punctuation">,</span>
    refBy<span class="token punctuation">,</span>
    limit <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span>
    cacheKey <span class="token operator">=</span> <span class="token string">&#x27;search&#x27;</span><span class="token punctuation">,</span>
    debounceWait <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">,</span>
    minKeywordLength <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token operator">:</span> Options
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>results<span class="token punctuation">,</span> setResults<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>store<span class="token punctuation">,</span> setStore<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useState</span><span class="token generic class-name"><span class="token operator">&lt;</span>Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">&gt;&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> storageKey <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">store_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cacheKey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> cachedStore <span class="token operator">=</span> <span class="token function">getStorageItem</span><span class="token punctuation">(</span>storageKey<span class="token punctuation">,</span> sessionStorage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cachedStore<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setStore</span><span class="token punctuation">(</span>cachedStore<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> store<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    dataList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> refKey <span class="token operator">=</span> <span class="token function">getProperty</span><span class="token punctuation">(</span>refBy<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#x27;.&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      store<span class="token punctuation">[</span>refKey<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">setStorageItem</span><span class="token punctuation">(</span>storageKey<span class="token punctuation">,</span> store<span class="token punctuation">,</span> sessionStorage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setStore</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>dataList<span class="token punctuation">,</span> refBy<span class="token punctuation">,</span> cacheKey<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">encode</span> <span class="token operator">=</span> <span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">search</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>query<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    query <span class="token operator">=</span> <span class="token function">encode</span><span class="token punctuation">(</span>query<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> storageKey <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">query_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cacheKey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>query<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> cachedResults <span class="token operator">=</span> <span class="token generic-function"><span class="token function">getStorageItem</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>storageKey<span class="token punctuation">,</span> sessionStorage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cachedResults<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setResults</span><span class="token punctuation">(</span>cachedResults<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">[</span>result<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> hitCount<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> newResults<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    dataList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>query<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> minKeywordLength<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

      <span class="token keyword">const</span> searchString <span class="token operator">=</span> <span class="token function">encode</span><span class="token punctuation">(</span><span class="token function">getProperty</span><span class="token punctuation">(</span>searchFrom<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> refKey <span class="token operator">=</span> <span class="token function">getProperty</span><span class="token punctuation">(</span>refBy<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> re <span class="token operator">=</span> <span class="token function">escapedRegExp</span><span class="token punctuation">(</span>query<span class="token punctuation">,</span> <span class="token string">&#x27;g&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hitCount<span class="token punctuation">[</span>refKey<span class="token punctuation">]</span><span class="token punctuation">)</span> hitCount<span class="token punctuation">[</span>refKey<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> hit <span class="token operator">=</span> searchString<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>hit<span class="token punctuation">)</span> hitCount<span class="token punctuation">[</span>refKey<span class="token punctuation">]</span> <span class="token operator">+=</span> hit<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>hitCount<span class="token punctuation">[</span>refKey<span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> newResults<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>refKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    newResults <span class="token operator">=</span> newResults
      <span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> hitCount<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">-</span> hitCount<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> limit<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setStorageItem</span><span class="token punctuation">(</span>storageKey<span class="token punctuation">,</span> newResults<span class="token punctuation">,</span> sessionStorage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setResults</span><span class="token punctuation">(</span>newResults<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> store<span class="token punctuation">[</span>result<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> handleSearchInputChange <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">debounce</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span>e<span class="token operator">:</span> React<span class="token punctuation">.</span>ChangeEvent<span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">search</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">,</span>
    debounceWait
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>search<span class="token punctuation">,</span> results<span class="token punctuation">,</span> handleSearchInputChange<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useSearch<span class="token punctuation">;</span></code></pre></div></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><p><code class="css-zjezr e1g4hu6w1">src/utils/common.ts</code></p><div class="gatsby-highlight" data-language="typescript"><pre class="language-typescript"><code class="language-typescript"><span class="token operator">...</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> getStorageItem <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  storage <span class="token operator">=</span> localStorage
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>storage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">setStorageItem</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
  storage <span class="token operator">=</span> localStorage
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  storage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> getProperty <span class="token operator">=</span> <span class="token punctuation">(</span>
  query<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  obj<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span>
  separator <span class="token operator">=</span> <span class="token string">&#x27;.&#x27;</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> query <span class="token operator">===</span> <span class="token string">&#x27;string&#x27;</span><span class="token punctuation">)</span> query <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>separator<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> nextKey <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>nextKey <span class="token operator">||</span> <span class="token operator">!</span>obj<span class="token punctuation">)</span> <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">getProperty</span><span class="token punctuation">(</span>query<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>nextKey<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">escapedRegExp</span> <span class="token operator">=</span> <span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> flags<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>_<span class="token punctuation">.</span><span class="token function">escapeRegExp</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">,</span> flags<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div></div></li></ul><ul class="css-1magvvh e1g4hu6w8"><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><p><code class="css-zjezr e1g4hu6w1">src/views/searchModal/index.tsx</code></p><div class="gatsby-highlight" data-language="tsx"><pre class="language-tsx"><code class="language-tsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>graphql<span class="token punctuation">,</span> useStaticQuery<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;gatsby&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useSearch <span class="token keyword">from</span> <span class="token string">&#x27;src/hooks/useSearch&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>MdxNode<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;src/types&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>getPostUrl<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;src/utils/common&#x27;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> pageQuery <span class="token operator">=</span> graphql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  {
    allMdx(sort: {fields: frontmatter___date, order: DESC}) {
      nodes {
        slug
        frontmatter {
          title
          tags
        }
        rawBody
      }
    }
  }
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">SearchModal</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>
    allMdx<span class="token operator">:</span> <span class="token punctuation">{</span>nodes<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useStaticQuery</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">{</span>allMdx<span class="token operator">:</span> <span class="token punctuation">{</span>nodes<span class="token operator">:</span> MdxNode<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>pageQuery<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>results<span class="token punctuation">,</span> handleSearchInputChange<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useSearch</span><span class="token punctuation">(</span>
    nodes<span class="token punctuation">,</span>
    <span class="token string">&#x27;rawBody&#x27;</span><span class="token punctuation">,</span>
    <span class="token string">&#x27;slug&#x27;</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      cacheKey<span class="token operator">:</span> <span class="token string">&#x27;search-modal&#x27;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
      <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
        width<span class="token operator">:</span> <span class="token string">&#x27;500px&#x27;</span><span class="token punctuation">,</span>
        position<span class="token operator">:</span> <span class="token string">&#x27;absolute&#x27;</span><span class="token punctuation">,</span>
        top<span class="token operator">:</span> <span class="token string">&#x27;20%&#x27;</span><span class="token punctuation">,</span>
        left<span class="token operator">:</span> <span class="token string">&#x27;50%&#x27;</span><span class="token punctuation">,</span>
        backgroundColor<span class="token operator">:</span> <span class="token string">&#x27;white&#x27;</span><span class="token punctuation">,</span>
        border<span class="token operator">:</span> <span class="token string">&#x27;1px solid black&#x27;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>handleSearchInputChange<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>results<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>result<span class="token punctuation">.</span>slug<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">getPostUrl</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>slug<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>result<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>tags<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>result<span class="token punctuation">.</span>frontmatter<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> SearchModal<span class="token punctuation">;</span></code></pre></div></div></li><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div><p>결과</p></div></div></li></ul><p><img src="https://lh3.googleusercontent.com/pw/AM-JKLWjFgS7lvr_INbby6lcBxZWssKwCWPkQoM5P6UK4dEwWgYENiYmA3qeW1vhyms8iceTTiV2phHo1bXezOSmfR4EmFAV877iftbymi_1uDOcPJxeGHt1CoUezTXqjv1iNl2o7f0j3ywrkaO36UVwP1Fw=w480-h356-no?authuser=0" alt="Search" class="css-1ou3qqd e1g4hu6w0"/></p><ul class="css-1magvvh e1g4hu6w8"><li class="css-1o5bol2 e1g4hu6w6"><div class="css-139iib9 e1g4hu6w5"><div>세션 스토리지</div></div></li></ul><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:610px">
      <a class="gatsby-resp-image-link css-dnz6zw e1g4hu6w3" href="/static/e68daad5e4798d2a9a68891619248cdc/e8acd/session-storage.png" style="display:block" target="_blank" rel="noopener">
    <span class="gatsby-resp-image-background-image" style="padding-bottom:74.07407407407408%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACH0lEQVQoz42S23KkIBCGff9nS+Uik0wyytED0iAKI+Bhom6p2aRqt7ZqP7iguvih/+5O7vd7COHx+fmYZz/OWDRvuCDCGBfGcRjHyRhT5Hl9IMS+j4NQCpKmaYwx4zhuBxhloqpCf5+maZrnaZrariurqjGNUqpt287a7qBt26QoCqWVlNJ7v20bwkhpBUoBgNJ6GGKM8XhnNsaIum6N0U2jtLbOfv08z/Pj8di2Lb3d3q/7+rh+vF2vjBOMUFEWjdaMsbfXV0JIWZZ5npdVlSzLcia8ruuyLFmWUsoopRQzjHFe8HvfB+9DCBIkxohzRgjBGHOeJwDQWdv3/bdnRhljjFNOKeWc50XedV2MERRgjAHAOWetdXeXPD093W63LMuklErp9/cr53yXH2KCSSVE3/feewkSISRraa3dK9d1yfPz88vLy+VywRgjhF4vF0YZxoRiihHmjBVl2Zo2hFDLOkOoqgQA1HWtlEoAlDHtt3OMEWN8h+WMcZRllRDW2hgiABBChBASQMpaK52UZam1HsdxPfgpGGEEk11cibZrg98LtrurpXOu6zrnXBLj4H2IMa7btqxrlqYoQwghgkiWZWmaGmP6A1HX6S0FCd77+8HeqrNJp5hROsRhH8xhJ8Y4DMN8EI/AOTAnSVVVUoLW+kybMbb9g2Vd/4gkvffOuRDCsq6fywIA61+XvsS/i/oj9t6f03sO2W7+v8W/ALq+RCzPSI+gAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/e68daad5e4798d2a9a68891619248cdc/1ee96/session-storage.webp 270w,/static/e68daad5e4798d2a9a68891619248cdc/be7f3/session-storage.webp 540w,/static/e68daad5e4798d2a9a68891619248cdc/5bd53/session-storage.webp 610w" sizes="(max-width: 610px) 100vw, 610px" type="image/webp"/>
          <source srcSet="/static/e68daad5e4798d2a9a68891619248cdc/77615/session-storage.png 270w,/static/e68daad5e4798d2a9a68891619248cdc/2d29d/session-storage.png 540w,/static/e68daad5e4798d2a9a68891619248cdc/e8acd/session-storage.png 610w" sizes="(max-width: 610px) 100vw, 610px" type="image/png"/>
          <img class="gatsby-resp-image-image css-1ou3qqd e1g4hu6w0" src="/static/e68daad5e4798d2a9a68891619248cdc/e8acd/session-storage.png" alt="session storage" title="session storage" loading="lazy" decoding="async" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
  </a>
    </span></p><div><p>이로써 검색 기능이 구현되었고 세션 스토리지에 검색 데이터도 잘 저장되는 것을 확인할 수 있다.</p></div><hgroup class="css-fdtbo8 e1g4hu6w13"><h2 class="css-1ah6edn e1g4hu6w11">후기</h2></hgroup><div><p>처음에 플러그인과 라이브러리를 사용하며 &#x27;이게 왜 안 되지&#x27; 싶은 것들을 하나하나 찾다 보니 생각보다 시간이 많이 걸렸다. 그래도 라이브러리 코드를 뒤져가며 원인을 하나씩 살펴보는 건 나름대로 즐거운 경험이었다. FlexSearch에서 찾은 이슈는 추후에 PR을 넣을 예정인데 받아들여질지 어떨지는 잘 모르겠다.</p></div><div><p>여하튼 이것으로 블로그로서 갖추어야 할 기본적인 기능들은 모두 갖춘 셈이다. 나머지 필요한 기능들은 디자인 적용 후에 하나씩 추가해나갈 예정이다.</p></div></div></article></div></main><style data-emotion="css 1qwmxvm">.css-1qwmxvm{height:var(--footer-height);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-column-gap:0.25rem;column-gap:0.25rem;color:var(--color-text-footer);background-color:var(--color-bg-footer);font-size:var(--font-size-sm);font-weight:var(--font-weight-thin);}</style><footer class="css-1qwmxvm ex85nb11">Copyright <!-- -->2022<!-- -->.<style data-emotion="css rzk2xp">.css-rzk2xp{-webkit-text-decoration:underline;text-decoration:underline;font-weight:var(--font-weight-regular);}</style><a href="https://github.com/bluewood-truth" class="css-rzk2xp ex85nb10">bluewood-truth</a>All right reserved.</footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/post/2022/02-18-gatsby-blog-search/";window.___webpackCompilationHash="b8d68b933a825e126c38";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-61d3e84c9f4703c089bc.js"],"app":["/app-58dbc8d2320a4185bf95.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-c355b95103524977f7b5.js"],"component---src-pages-blog-tsx":["/component---src-pages-blog-tsx-07a7047bc7d76daa7a90.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-51723f39beed7fa6effb.js"],"component---src-pages-post-mdx-slug-tsx":["/component---src-pages-post-mdx-slug-tsx-4ce64b5bf5f4c1259ceb.js"],"component---src-pages-tag-tsx":["/component---src-pages-tag-tsx-757a7e644ee01e611da9.js"],"component---src-templates-{tag}-tsx":["/component---src-templates-{tag}-tsx-08fb4418c3c2b5346751.js"]};/*]]>*/</script><script src="/polyfill-61d3e84c9f4703c089bc.js" nomodule=""></script><script src="/component---src-pages-post-mdx-slug-tsx-4ce64b5bf5f4c1259ceb.js" async=""></script><script src="/289354ec2d4c6e4cf5ed1da52de8c270038b3892-0ff34674674502ec3993.js" async=""></script><script src="/app-58dbc8d2320a4185bf95.js" async=""></script><script src="/framework-c9eaa67d651d3d5ef420.js" async=""></script><script src="/webpack-runtime-67d7efa4096309242a6a.js" async=""></script></body></html>